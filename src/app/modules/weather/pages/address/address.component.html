<div [ngClass]="weatherData ? 'h-full' : 'h-screen'" class="flex w-full">
  <app-code *ngIf="weatherData" [codes]="weatherData" language="json"></app-code>
  <div *ngIf="!weatherData" class="auth-bg hidden flex-1 items-center justify-center bg-primary bg-cover lg:flex">
    <div class="max-w-2xl space-y-4 p-8 text-center text-white">
      <svg-icon src="./assets/icons/map.svg" [svgClass]="'h-auto max-w-2xl text-primary'"> </svg-icon>
      <h1 class="text-4xl font-bold">"Weather data in JSON"</h1>
      <p class="text-xs font-light"></p>
      <p class="text-gray-100">No weather data available.</p>
    </div>
  </div>
  <div class="flex flex-1 items-center justify-center bg-background">
    <div class="max-w-md overflow-y-auto px-4 sm:w-[500px]">
      <form class="my-10 space-y-6" [formGroup]="addressForm" (ngSubmit)="onSubmit()">
        <div class="text-center">
          <h2 class="mb-1 text-3xl font-semibold text-foreground">Address <span class="text-primary">*</span></h2>
          <p class="text-sm text-muted-foreground">Let's get co-ordinates with address</p>
        </div>

        <div
          class="my-4 flex items-center before:mt-0.5 before:flex-1 before:border-t before:border-muted after:mt-0.5 after:flex-1 after:border-t after:border-muted">
          <p class="mx-4 mb-0 text-center text-sm text-muted-foreground">View</p>
        </div>

        <div class="space-y-3 text-left">
          <div class="relative">
            <input type="text" id="address" formControlName="address" class="peer block" placeholder=" " />
            <label
              for="address"
              class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              Address
            </label>
          </div>

          <div class="flex justify-between space-x-2" *ngIf="latitude && longitude">
            <div class="w-full">
              <div class="relative">
                <input type="text" id="lat" class="peer block" placeholder=" " [value]="latitude" />
                <label
                  for="lat"
                  class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
                  Latitude
                </label>
              </div>
            </div>
            <div class="w-full">
              <div class="relative">
                <input type="text" id="long" class="peer block" placeholder=" " [value]="longitude" />
                <label
                  for="long"
                  class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
                  Longitude
                </label>
              </div>
            </div>
          </div>
        </div>


        <div>
          <app-button full impact="bold" tone="primary" shape="rounded" size="medium">Submit</app-button>
        </div>
        <div (click)="downloadJSON()" *ngIf="weatherData">
          <app-button full impact="bold" tone="light" shape="rounded" size="medium">
            <svg-icon src="assets/icons/heroicons/solid/download.svg" [svgClass]="'h-6 w-6 mr-2'"> </svg-icon>
            Download JSON
          </app-button>
        </div>
        <div (click)="openModal()" *ngIf="weatherData">
          <app-button full impact="bold" tone="light" shape="rounded" size="medium">
            <svg-icon src="assets/icons/heroicons/solid/column.svg" [svgClass]="'h-6 w-6 mr-2'"> </svg-icon>
            Open charts
          </app-button>
        </div>
      </form>
    </div>
  </div>
</div>
<app-weather-modal [weatherData]="weatherData" [isVisible]="isModalVisible"></app-weather-modal>
